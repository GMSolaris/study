1. Привычнее пользоваться старым проверенным ifconfig. Ставим пакет apt install net-tools.
```
eth0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 172.19.130.77  netmask 255.255.240.0  broadcast 172.19.143.255
        inet6 fe80::215:5dff:feed:4061  prefixlen 64  scopeid 0x20<link>
        ether 00:15:5d:ed:40:61  txqueuelen 1000  (Ethernet)
        RX packets 7240  bytes 1482788 (1.4 MiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 291  bytes 30873 (30.1 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

lo: flags=73<UP,LOOPBACK,RUNNING>  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        inet6 ::1  prefixlen 128  scopeid 0x10<host>
        loop  txqueuelen 1000  (Local Loopback)
        RX packets 0  bytes 0 (0.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 0  bytes 0 (0.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
```
На линуксе у меня два интерфейса, сетевой и loopback петлевой, он же localhost.

На win машине команда ipconfig
```
C:\Users\myagkikh>ipconfig

Настройка протокола IP для Windows


Адаптер Ethernet Подключение по локальной сети:

   DNS-суффикс подключения . . . . . :
   IPv4-адрес. . . . . . . . . . . . : 192.168.0.174
   Маска подсети . . . . . . . . . . : 255.255.255.0
   Основной шлюз. . . . . . . . . : 192.168.0.254

Адаптер Ethernet vEthernet (WSL):

   DNS-суффикс подключения . . . . . :
   Локальный IPv6-адрес канала . . . : fe80::59aa:ceaa:df01:1489%11
   IPv4-адрес. . . . . . . . . . . . : 172.19.128.1
   Маска подсети . . . . . . . . . . : 255.255.240.0
   Основной шлюз. . . . . . . . . :
``` 
 
 Два интерфейса, интерфейс localhost 127.0.0.1 доступен по умолчанию в вин и не отображается данной командой.
 
 2. Для определения соседа по интерфейсу надо установить пакет lldpd. Используется протокол lldp.
 
 3. Для разбиение коммутаторов и в целом разграничении маршрутизации пакетов используется технология VLAN. В линуксе для того, чтобы поднять интерфейс vlan нужно прописать в конфиге:
 ```
auto vlan1400
iface vlan1400 inet static
        address 192.168.1.1
        netmask 255.255.255.0
        vlan_raw_device eth0
```

4. 

Bonding – это объединение сетевых интерфейсов по определенному типу агрегации, Служит для увеличения пропускной способности и/или отказоустойчивость сети.

Типы агрегации интерфейсов в Linux:

Mode-0(balance-rr) – Данный режим используется по умолчанию. Balance-rr обеспечивается балансировку нагрузки и отказоустойчивость. В данном режиме сетевые пакеты отправляются “по кругу”, от первого интерфейса к последнему. Если выходят из строя интерфейсы, пакеты отправляются на остальные оставшиеся. Дополнительной настройки коммутатора не требуется при нахождении портов в одном коммутаторе. При разностных коммутаторах требуется дополнительная настройка.

Mode-1(active-backup) – Один из интерфейсов работает в активном режиме, остальные в ожидающем. При обнаружении проблемы на активном интерфейсе производится переключение на ожидающий интерфейс. Не требуется поддержки от коммутатора.

Mode-2(balance-xor) – Передача пакетов распределяется по типу входящего и исходящего трафика по формуле ((MAC src) XOR (MAC dest)) % число интерфейсов. Режим дает балансировку нагрузки и отказоустойчивость. Не требуется дополнительной настройки коммутатора/коммутаторов.

Mode-3(broadcast) – Происходит передача во все объединенные интерфейсы, тем самым обеспечивая отказоустойчивость. Рекомендуется только для использования MULTICAST трафика.

Mode-4(802.3ad) – динамическое объединение одинаковых портов. В данном режиме можно значительно увеличить пропускную способность входящего так и исходящего трафика. Для данного режима необходима поддержка и настройка коммутатора/коммутаторов.

Mode-5(balance-tlb) – Адаптивная балансировки нагрузки трафика. Входящий трафик получается только активным интерфейсом, исходящий распределяется в зависимости от текущей загрузки канала каждого интерфейса. Не требуется специальной поддержки и настройки коммутатора/коммутаторов.

Mode-6(balance-alb) – Адаптивная балансировка нагрузки. Отличается более совершенным алгоритмом балансировки нагрузки чем Mode-5). Обеспечивается балансировку нагрузки как исходящего так и входящего трафика. Не требуется специальной поддержки и настройки коммутатора/коммутаторов.

Пример конфига
```
auto bond0

iface bond0 inet static
    address 10.31.1.5
    netmask 255.255.255.0
    network 10.31.1.0
    gateway 10.31.1.254
    bond-slaves eth0 eth1
    bond-mode active-backup
    bond-miimon 100
    bond-downdelay 200
    bond-updelay 200
```
5. Адресов с маской /29 в сети 8 из них 6 доступно под хосты, один это гейт или network, один занят под broadcast. Пример:
```
{15:30}~ ➭ ipcalc 10.10.10.0/29
Address:   10.10.10.0           00001010.00001010.00001010.00000 000
Netmask:   255.255.255.248 = 29 11111111.11111111.11111111.11111 000
Wildcard:  0.0.0.7              00000000.00000000.00000000.00000 111
=>
Network:   10.10.10.0/29        00001010.00001010.00001010.00000 000
HostMin:   10.10.10.1           00001010.00001010.00001010.00000 001
HostMax:   10.10.10.6           00001010.00001010.00001010.00000 110
Broadcast: 10.10.10.7           00001010.00001010.00001010.00000 111
Hosts/Net: 6                     Class A, Private Internet
```

Внутри подсети /24 можно уместить 32 сетей /29. Примеры сетей:

```
1. Requested size: 7 hosts
Netmask:   255.255.255.248 = 29 11111111.11111111.11111111.11111 000
Network:   10.10.10.0/29        00001010.00001010.00001010.00000 000
HostMin:   10.10.10.1           00001010.00001010.00001010.00000 001
HostMax:   10.10.10.6           00001010.00001010.00001010.00000 110
Broadcast: 10.10.10.7           00001010.00001010.00001010.00000 111
Hosts/Net: 6                     Class A, Private Internet

2. Requested size: 7 hosts
Netmask:   255.255.255.248 = 29 11111111.11111111.11111111.11111 000
Network:   10.10.10.16/29       00001010.00001010.00001010.00010 000
HostMin:   10.10.10.17          00001010.00001010.00001010.00010 001
HostMax:   10.10.10.22          00001010.00001010.00001010.00010 110
Broadcast: 10.10.10.23          00001010.00001010.00001010.00010 111
Hosts/Net: 6                     Class A, Private Internet
```
Пример расчета: 256\8 получаем 32 подсети.
Список подсетей:
Network #	IP Range	Broadcast
.0	.1-.6	.7
.8	.9-.14	.15
.16	.17-.22	.23
.24	.25-.30	.31
.32	.33-.38	.39
.40	.41-.46	.47
.48	.49-.54	.55
.56	.57-.62	.63
.64	.65-.70	.71
.72	.73-.78	.79
.80	.81-.86	.87
.88	.89-.94	.95
.96	.97-.102	.103
.104	.105-.110	.111
.112	.113-.118	.119
.120	.121-.126	.127
.128	.129-.134	.135
.136	.137-.142	.143
.144	.145-.150	.151
.152	.153-.158	.159
.160	.161-.166	.167
.168	.169-.174	.175
.176	.177-.182	.183
.184	.185-.190	.191
.192	.193-.198	.199
.200	.201-.206	.207
.208	.209-.214	.215
.216	.217-.222	.223
.224	.225-.230	.231
.232	.233-.238	.239
.240	.241-.246	.247
.248	.249-.254	.255


6. Для связи таких подсетей можно использовать адреса из диапазона 100.64.0.0 — 100.127.255.255
Можно взять подсеть 100.100.100.1/27 в ней 30 адресов.

Тут не совсем понятен вопрос. Во первых, надо состыковать три сети между собой, во вторых, требуется взять подсеть с 40-50 адресами. /27 даст 30 адресов, /26 даст 62 адреса. 
Для того чтобы соединить между собой данные сети я бы взял на маршрутизаторе в каждой из трех сетей адреса  100.100.100.11/27, 100.100.100.11/27, 100.100.100.12/27
Далее этими интерфесами соединил их в коммутаторе, и поднял бы vpn чтобы соединить между собой наши локальные сети.



7. В линуксе используется команда arp.
```
{17:00}~ ➭ arp -vn
Address                  HWtype  HWaddress           Flags Mask            Iface
172.19.128.1             ether   00:15:5d:a2:4e:42   C                     eth0
Entries: 1      Skipped: 0      Found: 1
```
В вин используется тоже arp
```
C:\Users\myagkikh>arp -a

Интерфейс: 192.168.0.174 --- 0x9
  адрес в Интернете      Физический адрес      Тип
  192.168.0.1           00-15-5d-1e-17-3c     динамический
  192.168.0.2           00-15-5d-00-e5-ad     динамический
  192.168.0.3           00-30-48-d5-70-a3     динамический
  192.168.0.4           00-15-5d-00-e5-88     динамический
  192.168.0.6           00-15-5d-1e-17-3f     динамический
  192.168.0.8           20-04-0f-f6-ec-a5     динамический
  192.168.0.10          ec-f4-bb-df-9a-8c     динамический
  192.168.0.13          b8-ca-3a-69-e7-14     динамический
  192.168.0.16          00-15-5d-00-49-05     динамический
  192.168.0.17          00-15-5d-00-56-22     динамический
  192.168.0.19          00-15-5d-1e-17-42     динамический
  192.168.0.20          00-15-5d-00-e5-7b     динамический
  192.168.0.25          00-15-5d-00-56-1f     динамический
  192.168.0.27          0c-c4-7a-20-3d-09     динамический
  192.168.0.28          00-15-5d-00-56-12     динамический
```
Удалить все записи arp -d *
Удалить конкретную запись arp -d 192.168.0.1





